#include <stdio.h>

int main() {
    // Define the input and output file paths
    const char* input_file_path = "program1.exe";
    const char* output_file_path = "program1_encrypted.exe";
    
    // Define the encryption key
    const char encryption_key = 0x40;
    
    // Open the input and output files
    FILE* input_file = fopen(input_file_path, "rb");
    FILE* output_file = fopen(output_file_path, "wb");
    
    // Check if the files were opened successfully
    if (input_file == NULL || output_file == NULL) {
        printf("Failed to open input or output file.\n");
        return 1;
    }
    
    // Read and encrypt the file contents
    int ch;
    while ((ch = fgetc(input_file)) != EOF) {
        ch ^= encryption_key;
        fputc(ch, output_file);
    }
    
    // Close the files
    fclose(input_file);
    fclose(output_file);
    
    printf("Encryption completed successfully.\n");
    return 0;
}
